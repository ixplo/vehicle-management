<div class="vehicle-card">
    <!-- Card Image -->
    <div class="card-image-container">
        <img 
            [src]="getMainImage()" 
            [alt]="getVehicleTitle()" 
            class="vehicle-image"
            (error)="onImageError($event)"
            loading="lazy" />
        <div class="vehicle-type-badge">
            <span class="type-label">{{ vehicle.type }}</span>
        </div>
        <div class="year-badge">
            <span>{{ vehicle.year }}</span>
        </div>
    </div>

    <!-- Card Content -->
    <div class="card-content">
        <!-- Vehicle Title and Use -->
        <div class="vehicle-header flex flex-row justify-between">
            <div class="vehicle-title-container">
            <h3 class="vehicle-title">{{ getVehicleTitle() }}</h3>
            <!-- <span class="vehicle-use">{{ vehicle.useOfVehicle }}</span> -->
        </div>
        <div class="vehicle-price">{{ formatPrice(vehicle.price) }}</div>

        </div>

        <!-- Price -->

        <!-- Description -->
        <!-- <p class="vehicle-description">{{ truncateDescription(vehicle.description) }}</p> -->

        <!-- Date and Mileage -->
        <div class="vehicle-meta">
            <div class="meta-item">
                <span>{{ formatDate(vehicle.registrationDate) }}</span>
            </div>
            <span class="text-xs mb-1">â€¢</span>
            <div class="meta-item">
                <span>{{ formatKilometers(vehicle.kilometers) }}</span>
            </div>
        </div>

        <!-- Vehicle Specs -->
        <div class="vehicle-specs">
            <app-label 
            [icon]="'assets/icons/doors.svg'"
            [text]="vehicle.numberOfDoors + ' doors'">
        </app-label>
            <app-label 
                [icon]="'assets/icons/cogs.svg'"
                [text]="vehicle.transmissionType">
            </app-label>
            <app-label 
                [icon]="getFuelIcon(vehicle.fuelType)"
                [text]="capitalizeFirst(vehicle.fuelType)">
            </app-label>
            <app-label 
                [icon]="'assets/icons/eye.svg'"
                class="text-lg"
                [text]="formatViews(vehicle.visitCounter) + ' views'">
            </app-label>
            <div class="eco-badge">
                <img 
                    [src]="getEcoLabelIcon(vehicle.ecoLabel)" 
                    [alt]="'Eco class ' + vehicle.ecoLabel"
                    class="eco-icon"
                    loading="lazy">
            </div>
        </div>

        <!-- Rating and Views -->
        <!-- <div class="vehicle-stats">
            <div class="stat-item">
                <i class="pi pi-eye"></i>
                <span>{{ formatViews(vehicle.visitCounter) }} views</span>
            </div>
            <div class="stat-item">
                <i class="pi pi-images"></i>
                <span>{{ vehicle.photos.length }} photos</span>
            </div>
            <div class="action-icons">
                <button class="icon-btn" title="Save to favorites">
                    <i class="pi pi-heart"></i>
                </button>
                <button class="icon-btn" title="Share vehicle">
                    <i class="pi pi-share-alt"></i>
                </button>
            </div>
        </div> -->

        <!-- Supplier Info -->
        <!-- <div class="supplier-info" *ngIf="vehicle.supplierInternalCode">
            <small class="supplier-code">Ref: {{ vehicle.supplierInternalCode }}</small>
        </div> -->

        <!-- Action Button -->
        <div class="card-actions flex flex-row justify-end">
            <p-button 
                rounded="true"
                label="View Details" 
                class="details-button" 
                [routerLink]="['/vehicle', vehicle.vehicleId]"
                styleClass="w-full">
            </p-button>
            <div class="dealer-link" *ngIf="vehicle.dealerLink">
                <button class="custom-share-button" type="button" title="Share vehicle">
                    <img src="assets/icons/share-icon.svg" alt="Share" class="share-icon">
                </button>
            </div>

        <!-- Dealer Link -->
       
    </div>
</div>
